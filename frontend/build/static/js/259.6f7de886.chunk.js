"use strict";(self.webpackChunkcode_share=self.webpackChunkcode_share||[]).push([[259,472,43,201,391],{4472:(e,l,t)=>{t.r(l),t.d(l,{default:()=>r});var s=t(5043),a=t(2391),i=t(579);const r=e=>{let{players:l,setPlayers:t,resignRequest:r,onResignHandled:o}=e;const[n,d]=(0,s.useState)(a.initialState),[c,x]=(0,s.useState)(a.initialPlayerPositions),[p,v]=(0,s.useState)("initialize"),[m,u]=(0,s.useState)(!1),[f,y]=(0,s.useState)(-1),[b,h]=(0,s.useState)(!1),[g,w]=(0,s.useState)(null),[j,M]=(0,s.useState)(""),N=e=>{M(e),window.clearTimeout(N._t),N._t=window.setTimeout((()=>M("")),1500)};(0,s.useEffect)((()=>{if(9===l[0].placedPlayer&&9===l[1].placedPlayer&&"end"!==p&&v("start"),(l[0].retirePlayer>=7||l[1].retirePlayer>=7)&&"end"!==p){const e=9-l[0].retirePlayer,t=9-l[1].retirePlayer;e<=2&&w("Player 2"),t<=2&&w("Player 1"),v("end")}}),[l]),(0,s.useEffect)((()=>{m&&(S(!1),P())}),[m]);const R=()=>{h(!1),d((e=>e=e.map((e=>(e.isMovable&&(e.isMovable=!1),e.isSelectedForMove=!1,e)))))},S=e=>{var t=l[0].isActive?2:1;if(e)return void d((e=>e.map((e=>(e.isRemovable=!1,e)))));const s=((e,l)=>{let t=[];for(let s=0;s<=6;s++){const a=e.filter((e=>e.row===s)).slice().sort(((e,l)=>e.col-l.col));for(let e=0;e<=a.length-3;e++){const s=a[e],i=a[e+1],r=a[e+2];s.player===l&&s.player===i.player&&s.player===r.player&&t.push(s,i,r)}}for(let s=0;s<=6;s++){const a=e.filter((e=>e.col===s)).slice().sort(((e,l)=>e.row-l.row));for(let e=0;e<=a.length-3;e++){const s=a[e],i=a[e+1],r=a[e+2];s.player===l&&s.player===i.player&&s.player===r.player&&t.push(s,i,r)}}return t})(n,t),a=new Set(s.map((e=>e.index))),i=n.filter((e=>e.player===t)),r=i.filter((e=>!a.has(e.index))),o=r.length>0?r:i;d((e=>(e=structuredClone(e),o.forEach((l=>{e[l.index].isRemovable=!0})),e)))},P=()=>{t((e=>((e=structuredClone(e))[0].isActive=!e[0].isActive,e[1].isActive=!e[1].isActive,e)))},F=(e,s)=>{if("end"!==p){if(m)return!0===e.isRemovable?(y(s),void(e=>{d((l=>((l=structuredClone(l))[e].player=0,l))),x((l=>{l=structuredClone(l);for(var t=0;t<18;t++)l[t].index===e&&(l[t].isRemoved=!0);return l})),t((e=>{e=structuredClone(e);for(var l=0;l<e.length;l++)e[l].isActive||(e[l].retirePlayer+=1);return e})),u(!1),S(!0),P()})(s)):void 0;if(!b||e.isMovable)if("initialize"===p){if(e.player>0)return void N("Spot occupied");y(s);var i=l[0].isActive?0:9;x((l=>{for(l=structuredClone(l);l[i].isBind;)i++;return l[i].index=s,l[i].isBind=!0,l[i].top="".concat(100*e.row/6,"%"),l[i].left="".concat(100*e.col/6,"%"),l})),d((e=>{var t=l[0].isActive?1:2;return(e=structuredClone(e))[s].player=t,e})),t((e=>{var t=l[0].isActive?0:1;return(e=structuredClone(e))[t].placedPlayer+=1,e})),P()}else"start"===p&&(e.isMovable?(y(s),((e,t)=>{var s=n.findIndex((e=>e.isSelectedForMove));-1!==s&&(d((e=>{const a=[...e];return a[s].player=0,l[0].isActive?a[t].player=1:a[t].player=2,a})),x((l=>{l=structuredClone(l);for(var t=0;t<18;t++)l[t].index===s&&(l[t].top="".concat(100*e.row/6,"%"),l[t].left="".concat(100*e.col/6,"%"));return l})),R(),P())})(e,s)):1!==e.player&&2!==e.player||!l[e.player-1].isActive?0===e.player?N("Select your piece to move"):N("Not your piece"):((e,l)=>{if(0!==e.player&&3!==e.player)if(e.isSelectedForMove)R();else{var t=a.edges[l].filter((e=>0===n[e].player));t&&t.length>0?(h(!0),d((e=>{e=structuredClone(e);for(var s=0;s<t.length;s++)e[t[s]].isMovable=!0;return e[l].isSelectedForMove=!0,e}))):N("Selected piece is blocked")}})(e,s));else N("Choose a highlighted spot")}};(0,s.useEffect)((()=>{var e=C();u(e)}),[n]);const C=()=>{for(let e=0;e<=6;e++){const l=n.filter((l=>l.row===e));for(let e=0;e<=l.length-3;e+=3)if(0!==l[e].player&&l[e].player===l[e+1].player&&l[e].player===l[e+2].player&&[l[e].index,l[e+1].index,l[e+2].index].includes(f))return!0}for(let e=0;e<=6;e++){const l=n.filter((l=>l.col===e));for(let e=0;e<=l.length-3;e+=3)if(0!==l[e].player&&l[e].player===l[e+1].player&&l[e].player===l[e+2].player&&[l[e].index,l[e+1].index,l[e+2].index].includes(f))return!0}return!1};return(0,s.useEffect)((()=>{if(!r||"end"===p)return;w("p1"===r?"Player 2":"Player 1"),v("end"),o&&o()}),[r]),(0,s.useEffect)((()=>{if("start"!==p)return;const e=l[0].isActive?1:2;(e=>{for(let l=0;l<n.length;l++)if(n[l].player===e&&(a.edges[l]||[]).some((e=>0===n[e].player)))return!0;return!1})(e)||(w(1===e?"Player 2":"Player 1"),v("end"))}),[n,p,l]),(0,s.useEffect)((()=>{var e,t;const s=((null===l||void 0===l||null===(e=l[0])||void 0===e?void 0:e.placedPlayer)||0)+((null===l||void 0===l||null===(t=l[1])||void 0===t?void 0:t.placedPlayer)||0);if(!(("initialize"===p||"start"===p)&&s>0))return;const a=e=>{e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",a),()=>window.removeEventListener("beforeunload",a)}),[p,l]),(0,i.jsxs)("div",{className:"flex flex-col mx-auto py-2 px-3 justify-center",children:[(0,i.jsxs)("div",{className:"relative sm:max-h-[260px] sm:max-w-[260px] sm:min-h-[240px] sm:min-w-[240px]  md:max-h-[520px] md:max-w-[520px] md:min-h-[420px] md:min-w-[420px] mx-auto ",children:[a.pattern.map(((e,l)=>((e,l)=>{var t="";return 3===l?(t=400/6+"%",(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"absolute left-0 h-px bg-black",style:{top:"".concat(100*l/6,"%"),width:"".concat(e[0],"%"),marginLeft:"0px"}},"h1-".concat(l)),(0,i.jsx)("div",{className:"absolute left-0 h-px bg-black",style:{top:"".concat(100*l/6,"%"),width:"".concat(e[0],"%"),marginLeft:t}},"h2-".concat(l,"-1"))]},"h1x-".concat(l))):(t=l<3?100*l/6+"%":100*(6-l)/6+"%",(0,i.jsx)("div",{className:"absolute left-0 h-px bg-black",style:{top:"".concat(100*l/6,"%"),width:"".concat(e[0],"%"),marginLeft:t}},"h-".concat(l)))})(e,l))),a.pattern.map(((e,l)=>((e,l)=>{var t="";return 3===l?(t=400/6+"%",(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"absolute top-0 w-px bg-black",style:{left:"".concat(100*l/6,"%"),height:"".concat(e[0],"%"),marginTop:"0px"}},"v1-".concat(l)),(0,i.jsx)("div",{className:"absolute top-0 w-px bg-black",style:{left:"".concat(100*l/6,"%"),height:"".concat(e[0],"%"),marginTop:t}},"v2-".concat(l,"-1"))]},"v1x-".concat(l))):(t=l<3?100*l/6+"%":100*(6-l)/6+"%",(0,i.jsx)("div",{className:"absolute top-0 w-px bg-black",style:{left:"".concat(100*l/6,"%"),height:"".concat(e[0],"%"),marginTop:t}},"v-".concat(l)))})(e,l))),n.map(((e,l)=>{var t="";switch(e.player){case 0:t="bg-slate-300";break;case 1:case 2:t="bg-transparent";break;case 3:t="bg-green-800";break;case 4:t="bg-red-600";break;default:t="bg-black"}return e.isRemovable&&0!==e.player&&(t="bg-red-600"),e.isMovable&&(t="bg-green-800"),(0,i.jsx)("div",{className:"absolute sm:w-[16px] md:w-[20px] sm:h-[16px] md:h-[20px] rounded-full cursor-pointer ".concat(t," \n                                transition-all duration-1000 ease-in-out"),style:{top:"".concat(100*e.row/6,"%"),left:"".concat(100*e.col/6,"%"),transform:"translate(-50%, -50%)",zIndex:100},onClick:()=>{F(e,l)}},"circle-".concat(e.row,"-").concat(e.col,"-").concat(l))})),c.map(((e,t)=>{var s=l[t>8?1:0].color;if(!e.isRemoved)return(0,i.jsx)("div",{className:"playersCircle sm:w-[16px] md:w-[20px] sm:h-[16px] md:h-[20px] absolute rounded-full cursor-pointer ".concat(s," \n                                    transition-all duration-1000 ease-in-out  ").concat(e.isBind&&n[e.index].isSelectedForMove?"rounded shadow-cyan-500/50 shadow-xl animate-bounce":"shadow-sm"," "),style:{top:"".concat(parseFloat(e.top),"%"),left:"".concat(parseFloat(e.left),"%"),transform:"translate(-50%, -50%)",zIndex:99}},"playerCircle-".concat(t))})),"end"===p&&(0,i.jsxs)("div",{className:"absolute rounded-2xl cursor-pointer bg-white shadow-2xl border-2 border-green-400 flex flex-col justify-center items-center p-8",style:{width:"280px",minHeight:"250px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e3},children:[(0,i.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,i.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2",children:"Game Over!"}),(0,i.jsxs)("p",{className:"text-xl font-semibold text-gray-800 mb-6",children:[g||(l[0].retirePlayer>l[1].retirePlayer?"Player 2":"Player 1")," Wins!"]}),(0,i.jsx)("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 transform hover:scale-105 shadow-lg",onClick:()=>window.location.reload(),children:"Play Again"})]},"win-div-container")]}),j&&(0,i.jsx)("div",{className:"mt-3 text-center text-sm text-gray-700 bg-yellow-50 border border-yellow-200 rounded-md px-3 py-2",children:j})]})}},259:(e,l,t)=>{t.r(l),t.d(l,{default:()=>d});var s=t(5043),a=t(4472),i=t(9043),r=t(9026),o=t(3615),n=t(579);function d(e){let{gameConfiguration:l}=e;const[t,d]=(0,s.useState)([{name:"player 1",isActive:!0,color:"bg-blue-500",placedPlayer:0,retirePlayer:0},{name:"player 2",isActive:!1,color:"bg-yellow-300",placedPlayer:0,retirePlayer:0}]),{setShouldBlockNavigation:c,setNavigationWarningConfig:x}=(0,o.xg)(),p=t.find((e=>e.isActive)),v=9===t[0].placedPlayer&&9===t[1].placedPlayer?"playing":"placing",[m,u]=(0,s.useState)(null),[f,y]=(0,s.useState)(!1);(0,s.useEffect)((()=>{x({title:"Leave 9 VS 9 Game?",message:"You have an active game in progress. Are you sure you want to leave? Your progress will be lost.",confirmText:"Leave Game",cancelText:"Stay"})}),[x]),(0,s.useEffect)((()=>{const e=t[0].placedPlayer+t[1].placedPlayer,l=t[0].retirePlayer>=7||t[1].retirePlayer>=7;return c(e>0&&!l),()=>{c(!1)}}),[t,c]);const b=()=>{y(!0)};return(0,n.jsxs)("div",{className:"justify-between flex-grow max-h-full bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex flex-col",children:[(0,n.jsxs)("div",{className:"py-4 px-3 sm:px-4 flex flex-col",children:[(0,n.jsx)("div",{className:"max-w-6xl mx-auto mb-6",children:(0,n.jsx)("h1",{className:"text-2xl sm:text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:l&&l.displayName})}),(0,n.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,n.jsx)(a.default,{players:t,setPlayers:d,resignRequest:m,onResignHandled:()=>u(null)})})]}),(0,n.jsx)("div",{className:"bg-white border-t border-gray-200 shadow-lg",children:(0,n.jsxs)("div",{className:"px-2 sm:px-4 py-2 sm:py-2",children:[(0,n.jsxs)("div",{className:"hidden md:flex flex-col justify-center items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-2 px-3 py-2 bg-blue-50 rounded-lg",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(null===p||void 0===p?void 0:p.color)}),(0,n.jsxs)("span",{className:"font-semibold text-sm text-gray-800",children:[null===p||void 0===p?void 0:p.name,"'s Turn"]}),(0,n.jsx)("span",{className:"text-xs text-gray-600 px-2 py-0.5 bg-white rounded-full",children:"placing"===v?"Placing":"Moving"}),(0,n.jsx)("button",{onClick:b,className:"ml-4 px-3 py-2 rounded-lg text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 transition-colors",children:"Opt Out"})]}),(0,n.jsxs)("div",{className:"flex gap-3 flex-grow",children:[(0,n.jsx)(i.default,{user1:t[0],user2:t[1],possition:"left"}),(0,n.jsx)(i.default,{user1:t[1],user2:t[0],possition:"right"})]})]}),(0,n.jsxs)("div",{className:"md:hidden space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 rounded-lg",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(null===p||void 0===p?void 0:p.color)}),(0,n.jsxs)("span",{className:"font-semibold text-sm text-gray-800",children:[null===p||void 0===p?void 0:p.name,"'s Turn"]}),(0,n.jsx)("span",{className:"text-xs text-gray-600 px-2 py-0.5 bg-white rounded-full",children:"placing"===v?"Placing":"Moving"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(i.default,{user1:t[0],user2:t[1],possition:"left"}),(0,n.jsx)(i.default,{user1:t[1],user2:t[0],possition:"right"}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("button",{onClick:b,className:"px-3 py-2 rounded-lg text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 transition-colors",children:"Opt Out"})})]})]})]})}),(0,n.jsx)(r.default,{isOpen:f,onClose:()=>y(!1),onConfirm:()=>{u(t[0].isActive?"p1":"p2"),y(!1)},title:"Opt Out?",message:"".concat(t[0].isActive?"Player 1":"Player 2"," - Are you sure you want to opt out? This will end the game."),confirmText:"Yes, Opt Out",cancelText:"Cancel",type:"warning"})]})}},9043:(e,l,t)=>{t.r(l),t.d(l,{default:()=>i});t(5043);var s=t(6201),a=t(579);function i(e){const{name:l,isActive:t,color:i,placedPlayer:r}=e.user1,o=(e.possition,9-e.user1.retirePlayer);return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm border-2 transition-all ".concat(t?"border-blue-400 shadow-md":"border-gray-200"),children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 ".concat(t?"scale-110 shadow-md shadow-blue-500/50":"scale-100"),children:(0,a.jsx)(s.UserIcon,{color:i})})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-grow",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h3",{className:"font-bold text-sm capitalize ".concat(t?"text-blue-600":"text-gray-700"),children:[l,t&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:"Active"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Available:"}),(0,a.jsx)("span",{className:"text-sm font-bold ".concat(t?"text-blue-600":"text-gray-700"),children:o})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Retired"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-700",children:e.user2.retirePlayer}),(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"})]})]})]})]})}},6201:(e,l,t)=>{t.r(l),t.d(l,{UserIcon:()=>a});var s=t(579);const a=e=>(0,s.jsx)("svg",{className:"w-16 h-16 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4h-4Z",clipRule:"evenodd"})})},2391:(e,l,t)=>{t.r(l),t.d(l,{edges:()=>r,initialPlayerPositions:()=>i,initialState:()=>a,pattern:()=>s});const s=[[100,0],[4/6*100,0],[2/6*100,0],[2/6*100,1],[2/6*100,0],[4/6*100,0],[100,0]],a=[{row:0,col:0,player:0,isSelectedForMove:!1,index:0,isRemovable:!1,isMovable:!1},{row:0,col:3,player:0,isSelectedForMove:!1,index:1,isRemovable:!1,isMovable:!1},{row:0,col:6,player:0,isSelectedForMove:!1,index:2,isRemovable:!1,isMovable:!1},{row:1,col:1,player:0,isSelectedForMove:!1,index:3,isRemovable:!1,isMovable:!1},{row:1,col:3,player:0,isSelectedForMove:!1,index:4,isRemovable:!1,isMovable:!1},{row:1,col:5,player:0,isSelectedForMove:!1,index:5,isRemovable:!1,isMovable:!1},{row:2,col:2,player:0,isSelectedForMove:!1,index:6,isRemovable:!1,isMovable:!1},{row:2,col:3,player:0,isSelectedForMove:!1,index:7,isRemovable:!1,isMovable:!1},{row:2,col:4,player:0,isSelectedForMove:!1,index:8,isRemovable:!1,isMovable:!1},{row:3,col:0,player:0,isSelectedForMove:!1,index:9,isRemovable:!1,isMovable:!1},{row:3,col:1,player:0,isSelectedForMove:!1,index:10,isRemovable:!1,isMovable:!1},{row:3,col:2,player:0,isSelectedForMove:!1,index:11,isRemovable:!1,isMovable:!1},{row:3,col:4,player:0,isSelectedForMove:!1,index:12,isRemovable:!1,isMovable:!1},{row:3,col:5,player:0,isSelectedForMove:!1,index:13,isRemovable:!1,isMovable:!1},{row:3,col:6,player:0,isSelectedForMove:!1,index:14,isRemovable:!1,isMovable:!1},{row:4,col:2,player:0,isSelectedForMove:!1,index:15,isRemovable:!1,isMovable:!1},{row:4,col:3,player:0,isSelectedForMove:!1,index:16,isRemovable:!1,isMovable:!1},{row:4,col:4,player:0,isSelectedForMove:!1,index:17,isRemovable:!1,isMovable:!1},{row:5,col:1,player:0,isSelectedForMove:!1,index:18,isRemovable:!1,isMovable:!1},{row:5,col:3,player:0,isSelectedForMove:!1,index:19,isRemovable:!1,isMovable:!1},{row:5,col:5,player:0,isSelectedForMove:!1,index:20,isRemovable:!1,isMovable:!1},{row:6,col:0,player:0,isSelectedForMove:!1,index:21,isRemovable:!1,isMovable:!1},{row:6,col:3,player:0,isSelectedForMove:!1,index:22,isRemovable:!1,isMovable:!1},{row:6,col:6,player:0,isSelectedForMove:!1,index:23,isRemovable:!1,isMovable:!1}],i=[{top:"10%",left:"-10%",index:0,isBind:!1,isRemoved:!1},{top:"18.67%",left:"-10%",index:0,isBind:!1,isRemoved:!1},{top:"27.34%",left:"-10%",index:0,isBind:!1,isRemoved:!1},{top:"36.01%",left:"-10%",index:0,isBind:!1,isRemoved:!1},{top:"44.68%",left:"-10%",index:0,isBind:!1,isRemoved:!1},{top:"53.35%",left:"-10%",index:0,isBind:!1,isRemoved:!1},{top:"62.02%",left:"-10%",index:0,isBind:!1,isRemoved:!1},{top:"70.69%",left:"-10%",index:0,isBind:!1,isRemoved:!1},{top:"79.36%",left:"-10%",index:0,isBind:!1,isRemoved:!1},{top:"10%",left:"110%",index:0,isBind:!1,isRemoved:!1},{top:"18.67%",left:"110%",index:0,isBind:!1,isRemoved:!1},{top:"27.34%",left:"110%",index:0,isBind:!1,isRemoved:!1},{top:"36.01%",left:"110%",index:0,isBind:!1,isRemoved:!1},{top:"44.68%",left:"110%",index:0,isBind:!1,isRemoved:!1},{top:"53.35%",left:"110%",index:0,isBind:!1,isRemoved:!1},{top:"62.02%",left:"110%",index:0,isBind:!1,isRemoved:!1},{top:"70.69%",left:"110%",index:0,isBind:!1,isRemoved:!1},{top:"79.36%",left:"110%",index:0,isBind:!1,isRemoved:!1}],r=[[1,9],[0,2,4],[1,14],[4,10],[1,3,5,7],[4,13],[7,11],[4,6,8],[7,12],[0,10,21],[3,9,11,18],[6,10,15],[8,13,17],[5,12,14,20],[2,13,23],[11,16],[15,17,19],[12,16],[10,19],[16,18,20,22],[13,19],[9,22],[19,21,23],[14,22]]}}]);
//# sourceMappingURL=259.6f7de886.chunk.js.map